<!doctype html>
<html lang="zh-Hant" xmlns:th="http://www.thymeleaf.org">
<head><meta charset="utf-8"><title>展商－重設密碼</title></head>
<body>
  <h1>重設密碼</h1>

  <!-- 全域錯誤（例如 token 過期） -->
  <div th:if="${#fields.hasGlobalErrors()}" style="color:red"
       th:each="e : ${#fields.globalErrors()}" th:text="${e}"></div>

  <form th:action="@{/back-end/exhibitor/reset_password}"
        th:object="${form}" method="post" novalidate>
    <input type="hidden" th:field="*{token}">
    <input type="hidden" th:field="*{email}">

    <div>
      <label>新密碼</label>
      <input type="password" th:field="*{password}"
             minlength="8" maxlength="128"
             pattern="(?=.*[A-Za-z])(?=.*\d).{8,128}"
             required>
      <div style="color:red" th:errors="*{password}"></div>
    </div>

    <div>
      <label>確認新密碼</label>
      <input type="password" th:field="*{confirmPassword}" required>
      <div style="color:red" th:errors="*{confirmPassword}"></div>
    </div>
    <div style="color:red" th:errors="*{passwordConfirmed}"></div>
    

    <button type="submit">變更密碼</button>
  </form>
</body>
</html>